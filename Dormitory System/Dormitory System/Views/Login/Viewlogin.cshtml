
@{
    Layout = null;
    ViewData["Title"] = "ViewLogin";
   
}
<html>
    <header>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
         <link rel="stylesheet" href="~/lib/bootstrap/dist/css/bootstrap.min.css" />
        <link rel="stylesheet" href="~/css/site.css" asp-append-version="true" />
        <link href="~/css/stylesheet.css" rel="stylesheet" />
        <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css" rel="stylesheet" />

    <!-- CSS only -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-KyZXEAg3QhqLMpG8r+Knujsl5+zr/2IbT+kE3s5Jbm8aVC5wwDd1BqPiJPmbdkr5" crossorigin="anonymous">

    <!-- JavaScript Bundle with Popper -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.bundle.min.js" integrity="sha384-+0n0r20uXb9R8JfyC3vZ7maqB4p95CEYH0T3trfg5STGyD5Zj1zpkd2M4Y0zogDC" crossorigin="anonymous"></script>
    <link href="~/css/login/stylesheet.css" rel="stylesheet" />
    </header>
    <body>
    <div class="container  ">
        <div class="row main  ">
            <div class="col-sm-7 left p-0">
                <img src="~/img/newleft.jpg" class="img-fluid" />
                
            </div>
            <div class="col-sm-5 right">
                <div id="logo" style="text-align: center; margin-top: 110px;">
                    <img src="/img/logo.png" class="img-fluid logo">
                </div>

                <form class="need-validate" novalidate>
                    <div class="row justify-content-center">
                        <div class="col-12 col-md-8">
                            <div class="main-username">
                                <input type="text" id="txtUser" class="form-control" placeholder="UserName" required>
                                <i class="fa-solid fa-user"></i>
                                <div class="invalid-feedback">Please Input UserName!!</div>
                            </div>
                            <div class="main-password">
                                <input type="password" id="txtPass" class="form-control" placeholder="Password" required>
                                <i class="fa-solid fa-key"></i>
                                <div class="invalid-feedback">Please Input Password!!</div>
                            </div>
                        </div>
                        <div id="msg" class="d-none text-center" style="color : red; font-weight : 500;">Invalid Username or Password!</div>
                    </div>

                    <div class="text-center">
                        <button type="submit" id="login" class="btn btn-primary">Login</button>
                        <div class="mt-3">Forgot Password?</div>
                    </div>
                </form>

            </div>
        </div>
    </div>


</body>
</html>
 <script src="~/lib/jquery/dist/jquery.min.js"></script>
<script src="~/lib/jquery/dist/jquery.js"></script>
<script type="text/javascript">
    $('.need-validate').submit(function (event) {
        if (this.checkValidity() === false) {
            event.preventDefault();
            event.stopPropagation();
        } else {
            event.preventDefault();
            $.ajax({
                url: '@Url.Action("GetLogin", "Login")',
                type: "GET",
                dataType: "JSON",
                data: {
                    userid: $('#txtUser').val(),
                    password: $('#txtPass').val()
                },
                success: function (data) {
                    if (data.errcode == 1) {
                        window.location.replace('@Url.Action("ViewRoomType", "RoomType")')
                    } else {
                        $('#msg').removeClass('d-none');
                        setTimeout(() => {
                            $('#msg').addClass('d-none');
                        }, 5000)
                    }
                }
            })
        }
        $(this).addClass('was-validated');
    });
</script>